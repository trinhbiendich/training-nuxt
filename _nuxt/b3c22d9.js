(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{323:function(e,t,r){"use strict";r.r(t);r(17),r(55);var n=r(20),o={scrollToTop:!0,data:function(){return{images:[],caching:[],onLoading:!0,testUrl:"",msg:""}},mounted:function(){this.init()},methods:{init:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getImages();case 2:console.log("init all image done"),e.msg="0/".concat(e.images.length);case 4:case"end":return t.stop()}}),t)})))()},scrollToTop:function(){$("html, body").animate({scrollTop:0},"slow")},loadingImgs:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.nextItems();case 2:e.$nextTick((function(){$("#myGallery").justifiedGallery({rowHeight:300,lastRow:"nojustify",margins:3}).on("jg.complete",(function(){}))}));case 3:case"end":return t.stop()}}),t)})))()},nextItems:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.images&&0!==e.images.length){t.next=2;break}return t.abrupt("return");case 2:for(e.onLoading=!1,r=[],i=0;i<500;i++)r.push(e.images.pop());e.onLoading=!0,e.caching=r;case 7:case"end":return t.stop()}}),t)})))()},getImages:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$route.query.year){t.next=3;break}return e.images=[],t.abrupt("return");case 3:return t.next=5,fetch("/jsons/urls.".concat(e.$route.query.year,".json"));case 5:if(!(r=t.sent).ok){t.next=12;break}return t.next=9,r.json();case 9:e.images=t.sent,t.next=13;break;case 12:e.images=[];case 13:case"end":return t.stop()}}),t)})))()}}},c=r(49),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a",{staticClass:"btn",class:{"btn-success":2019==e.$route.query.year,"btn-primary":2019!=e.$route.query.year},attrs:{href:"?year=2019"}},[e._v("2019")]),e._v(" "),r("a",{staticClass:"btn",class:{"btn-success":2020==e.$route.query.year,"btn-primary":2020!=e.$route.query.year},attrs:{href:"?year=2020"}},[e._v("2020")]),e._v(" "),r("a",{staticClass:"btn",class:{"btn-success":2021==e.$route.query.year,"btn-primary":2021!=e.$route.query.year},attrs:{href:"?year=2021"}},[e._v("2021")]),e._v(" "),r("div",{attrs:{id:"myGallery"}},e._l(e.caching,(function(image){return r("a",{key:image,attrs:{target:"_blank",href:image}},[r("img",{staticClass:"img-fluid lazy",attrs:{src:image}})])})),0),e._v(" "),r("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.loadingImgs()}}},[e._v("\n    Load more ("),r("span",{domProps:{textContent:e._s(e.images.length)}}),e._v(" images left)\n    "),r("i",{staticClass:"fa fa-spinner fa-spin",class:{hidden:e.onLoading}})]),e._v(" "),r("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;"},on:{click:function(t){return e.scrollToTop()}}},[e._v("Go to Top "),r("i",{staticClass:"fas fa-arrow-up"})])])}),[],!1,null,"d9ec6738",null);t.default=component.exports}}]);