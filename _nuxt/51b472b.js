(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{275:function(t,e,n){var content=n(286);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(65).default)("aa0ebc2c",content,!0,{sourceMap:!1})},285:function(t,e,n){"use strict";n(275)},286:function(t,e,n){(e=n(64)(!1)).push([t.i,".center[data-v-256a7c83]{text-align:center}.center-screen[data-v-256a7c83]{position:fixed;top:45%;left:45%}.loading[data-v-256a7c83]{border:16px solid #f3f3f3;border-top-color:#3498db;border-radius:50%;width:120px;height:120px;-webkit-animation:spin-data-v-256a7c83 2s linear infinite;animation:spin-data-v-256a7c83 2s linear infinite}@-webkit-keyframes spin-data-v-256a7c83{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin-data-v-256a7c83{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),t.exports=e},293:function(t,e,n){"use strict";n.r(e);n(6),n(10),n(13),n(11);var r={head:function(){return{title:""===this.pageInfo.title?"NuxtJS":"NuxtJS | "+this.pageInfo.title}},data:function(){return{pageInfo:{title:"Detail page"},user:{},imgs:[],photoIds:[],msg:"",userId:"",curPage:1,perPage:50,totalPage:1,curTotalImages:0,isLoading:!1}},mounted:function(){var t=this;this.userId=this.$route.query.userId,this.pageInfo.title="Detail of "+this.userId,this.$axios.$get("/".concat(this.userId)).then((function(e){"success"===e.type?t.user=e.data:t.msg="There are no images or data on this user"})),this.isLoading=!0,this.$axios.$get("/".concat(this.userId,"_photos")).then((function(e){"success"===e.type&&(t.photoIds=e.data,t.totalPage=Math.ceil(t.photoIds.length/(1*t.perPage)),t.loadImagesFromServer())}))},methods:{loadImagesFromServer:function(){var t=this;if(!(this.curPage>this.totalPage)){var e=0,n=(this.curPage-1)*this.perPage,r=n+this.perPage;this.isLoading=!0;var o=this.photoIds.slice(n,r);this.curPage++,this.curTotalImages+=o.length,o.forEach((function(n,r){t.$axios.$get("/".concat(t.userId,"_photos_").concat(n)).then((function(n){e++,t.addImage(n),e>=o.length&&(t.isLoading=!1,t.$nextTick((function(){$("#myGallery").justifiedGallery({rowHeight:300,lastRow:"nojustify",margins:3})})))}))}))}},addImage:function(t){"success"===t.type&&this.imgs.push(t.data)},urlMin:function(img){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=["sq","q","t","s","n","w","m","z","c","l","h","o"],i=0;i<e.length;i++){var n=e[i];if(void 0!==img["url_".concat(n)]&&(!(null!==t&&img["width_".concat(n)]<t)&&void 0!==img["url_".concat(n)]))return img["url_".concat(n)]}return"/images/no-image.png"},urlMax:function(img){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=["sq","q","t","s","n","w","m","z","c","l","h","k","3k","4k","5k","6k","o"].reverse(),i=0;i<e.length;i++){var n=e[i];if(void 0!==img["url_".concat(n)]&&(!(null!==t&&img["width_".concat(n)]>t)&&void 0!==img["url_".concat(n)]))return img["url_".concat(n)]}return"/images/no-image.png"}}},o=(n(285),n(47)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 p-3"},[n("router-link",{attrs:{to:"/flickr"}},[n("span",{staticClass:"material-icons"},[t._v("reply")]),t._v(" Go back")]),t._v(" "),n("span",{staticClass:"material-icons"},[t._v("autorenew")])],1)]),t._v(" "),""!==t.msg?n("div",[n("div",{staticClass:"alert alert-info"},[t._v(t._s(t.msg))])]):t._e(),t._v(" "),n("div",{ref:"myGallery",attrs:{id:"myGallery"}},t._l(t.imgs,(function(img,e){return n("a",{key:"img_"+e,staticClass:"img-item",attrs:{href:t.urlMax(img)}},[n("img",{staticClass:"img-fluid lazy",attrs:{src:t.urlMin(img,300)}})])})),0),t._v(" "),t.isLoading?n("div",{ref:"loading",staticClass:"loading center-screen"}):t._e(),t._v(" "),n("div",{staticClass:"center"},[n("a",{staticClass:"btn btn-success",on:{click:t.loadImagesFromServer}},[t._v("Load more")])])])}),[],!1,null,"256a7c83",null);e.default=component.exports}}]);